self.addEventListener("install",(e=>{e.waitUntil(caches.open("v1").then((e=>e.addAll(["./","./index.html","./main.css","./main.js","./paragraph-bg.png","./favicon.ico"]))))})),self.addEventListener("activate",(()=>{console.log("Активирован")})),self.addEventListener("fetch",(e=>{const t=e.request.url.slice(location.origin.length);console.log(t),console.log("Происходит запрос на сервер"),t.startsWith("/node_modules")&&(console.log("Происходит запрос за картинкой"),e.respondWith(caches.match(e.request).then((t=>t||fetch(e.request).then((t=>caches.open("my-mega-cache").then((c=>(c.put(e.request,t.clone()),t))))))))),t.startsWith("/images/user")?e.respondWith(caches.match(e.request).then((t=>t||fetch(e.request).then((t=>caches.open("my-mega-cache").then((c=>(c.put(e.request,t.clone()),t))))).catch((()=>(console.log("catch!!!"),caches.match("./images/fallback/user.jpg"))))))):(console.log("Поведение по умолчанию"),e.respondWith(fetch(e.request).then((t=>caches.open("v1").then((c=>(c.put(e.request,t.clone()),t))))).catch((()=>caches.match(e.request)))))}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmljZS53b3JrZXIuanMiLCJtYXBwaW5ncyI6IkFBSUFBLEtBQUtDLGlCQUFpQixXQUFZQyxJQUNoQ0EsRUFBTUMsVUFDSkMsT0FBT0MsS0FBSyxNQUFNQyxNQUFNQyxHQUFVQSxFQUFNQyxPQUFPLENBQzdDLEtBQ0EsZUFDQSxhQUNBLFlBQ0EscUJBQ0Esb0JBRUgsSUFHSFIsS0FBS0MsaUJBQWlCLFlBQVksS0FDaENRLFFBQVFDLElBQUksY0FBYyxJQUc1QlYsS0FBS0MsaUJBQWlCLFNBQVVDLElBQzlCLE1BQU1TLEVBQU1ULEVBQU1VLFFBQVFELElBQUlFLE1BQU1DLFNBQVNDLE9BQU9DLFFBRXBEUCxRQUFRQyxJQUFJQyxHQUVaRixRQUFRQyxJQUFJLCtCQUVSQyxFQUFJTSxXQUFXLG1CQUNqQlIsUUFBUUMsSUFBSSxrQ0FFWlIsRUFBTWdCLFlBQ0pkLE9BQU9lLE1BQU1qQixFQUFNVSxTQUFTTixNQUFNYyxHQUFhQSxHQUFZQyxNQUFNbkIsRUFBTVUsU0FBU04sTUFBTWMsR0FBYWhCLE9BQU9DLEtBQUssaUJBQWlCQyxNQUFNQyxJQUNwSUEsRUFBTWUsSUFBSXBCLEVBQU1VLFFBQVNRLEVBQVNHLFNBQzNCSCxXQUtUVCxFQUFJTSxXQUFXLGdCQUNqQmYsRUFBTWdCLFlBQ0pkLE9BQU9lLE1BQU1qQixFQUFNVSxTQUFTTixNQUFNYyxHQUFhQSxHQUFZQyxNQUFNbkIsRUFBTVUsU0FBU04sTUFBTWMsR0FBYWhCLE9BQU9DLEtBQUssaUJBQWlCQyxNQUFNQyxJQUNwSUEsRUFBTWUsSUFBSXBCLEVBQU1VLFFBQVNRLEVBQVNHLFNBQzNCSCxPQUNMSSxPQUFNLEtBQ1JmLFFBQVFDLElBQUksWUFDTE4sT0FBT2UsTUFBTSxxQ0FJeEJWLFFBQVFDLElBQUksMEJBQ1pSLEVBQU1nQixZQUNKRyxNQUFNbkIsRUFBTVUsU0FBU04sTUFBTWMsR0FBYWhCLE9BQU9DLEtBQUssTUFBTUMsTUFBTUMsSUFDOURBLEVBQU1lLElBQUlwQixFQUFNVSxRQUFTUSxFQUFTRyxTQUMzQkgsT0FDTEksT0FBTSxJQUFNcEIsT0FBT2UsTUFBTWpCLEVBQU1VLFlBRXZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd29ya2Vyc2xvYWRpbmcvLi9zcmMvanMvc2VydmljZS53b3JrZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tc2hhZG93ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgKGV2ZW50KSA9PiB7XG4gIGV2ZW50LndhaXRVbnRpbChcbiAgICBjYWNoZXMub3BlbigndjEnKS50aGVuKChjYWNoZSkgPT4gY2FjaGUuYWRkQWxsKFtcbiAgICAgICcuLycsXG4gICAgICAnLi9pbmRleC5odG1sJyxcbiAgICAgICcuL21haW4uY3NzJyxcbiAgICAgICcuL21haW4uanMnLFxuICAgICAgJy4vcGFyYWdyYXBoLWJnLnBuZycsXG4gICAgICAnLi9mYXZpY29uLmljbycsXG4gICAgXSkpLFxuICApO1xufSk7XG5cbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCfQkNC60YLQuNCy0LjRgNC+0LLQsNC9Jyk7XG59KTtcblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdmZXRjaCcsIChldmVudCkgPT4ge1xuICBjb25zdCB1cmwgPSBldmVudC5yZXF1ZXN0LnVybC5zbGljZShsb2NhdGlvbi5vcmlnaW4ubGVuZ3RoKTtcblxuICBjb25zb2xlLmxvZyh1cmwpO1xuXG4gIGNvbnNvbGUubG9nKCfQn9GA0L7QuNGB0YXQvtC00LjRgiDQt9Cw0L/RgNC+0YEg0L3QsCDRgdC10YDQstC10YAnKTtcblxuICBpZiAodXJsLnN0YXJ0c1dpdGgoJy9ub2RlX21vZHVsZXMnKSkge1xuICAgIGNvbnNvbGUubG9nKCfQn9GA0L7QuNGB0YXQvtC00LjRgiDQt9Cw0L/RgNC+0YEg0LfQsCDQutCw0YDRgtC40L3QutC+0LknKTtcblxuICAgIGV2ZW50LnJlc3BvbmRXaXRoKFxuICAgICAgY2FjaGVzLm1hdGNoKGV2ZW50LnJlcXVlc3QpLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZSB8fCBmZXRjaChldmVudC5yZXF1ZXN0KS50aGVuKChyZXNwb25zZSkgPT4gY2FjaGVzLm9wZW4oJ215LW1lZ2EtY2FjaGUnKS50aGVuKChjYWNoZSkgPT4ge1xuICAgICAgICBjYWNoZS5wdXQoZXZlbnQucmVxdWVzdCwgcmVzcG9uc2UuY2xvbmUoKSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0pKSksXG4gICAgKTtcbiAgfVxuXG4gIGlmICh1cmwuc3RhcnRzV2l0aCgnL2ltYWdlcy91c2VyJykpIHtcbiAgICBldmVudC5yZXNwb25kV2l0aChcbiAgICAgIGNhY2hlcy5tYXRjaChldmVudC5yZXF1ZXN0KS50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UgfHwgZmV0Y2goZXZlbnQucmVxdWVzdCkudGhlbigocmVzcG9uc2UpID0+IGNhY2hlcy5vcGVuKCdteS1tZWdhLWNhY2hlJykudGhlbigoY2FjaGUpID0+IHtcbiAgICAgICAgY2FjaGUucHV0KGV2ZW50LnJlcXVlc3QsIHJlc3BvbnNlLmNsb25lKCkpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9KSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnY2F0Y2ghISEnKTtcbiAgICAgICAgcmV0dXJuIGNhY2hlcy5tYXRjaCgnLi9pbWFnZXMvZmFsbGJhY2svdXNlci5qcGcnKTtcbiAgICAgIH0pKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKCfQn9C+0LLQtdC00LXQvdC40LUg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y4nKTtcbiAgICBldmVudC5yZXNwb25kV2l0aChcbiAgICAgIGZldGNoKGV2ZW50LnJlcXVlc3QpLnRoZW4oKHJlc3BvbnNlKSA9PiBjYWNoZXMub3BlbigndjEnKS50aGVuKChjYWNoZSkgPT4ge1xuICAgICAgICBjYWNoZS5wdXQoZXZlbnQucmVxdWVzdCwgcmVzcG9uc2UuY2xvbmUoKSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0pKS5jYXRjaCgoKSA9PiBjYWNoZXMubWF0Y2goZXZlbnQucmVxdWVzdCkpLFxuICAgICk7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbInNlbGYiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJ3YWl0VW50aWwiLCJjYWNoZXMiLCJvcGVuIiwidGhlbiIsImNhY2hlIiwiYWRkQWxsIiwiY29uc29sZSIsImxvZyIsInVybCIsInJlcXVlc3QiLCJzbGljZSIsImxvY2F0aW9uIiwib3JpZ2luIiwibGVuZ3RoIiwic3RhcnRzV2l0aCIsInJlc3BvbmRXaXRoIiwibWF0Y2giLCJyZXNwb25zZSIsImZldGNoIiwicHV0IiwiY2xvbmUiLCJjYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=